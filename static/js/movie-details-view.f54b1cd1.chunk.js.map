{"version":3,"sources":["components/Views/MovieDetailsView.module.css","components/MovieDetails/MovieDetails.module.css","components/MovieDetails/MovieDetails.js","components/Views/MovieDetailsView.js","services/tmdb-api.js","images/no-image.jpg","services/makeImagePath.js"],"names":["module","exports","MovieDetails","title","vote_average","homepage","genres","poster_path","overview","backdrop_path","posterUrl","makeImagePath","className","s","article","titleBlock","movieTitle","image","src","alt","width","description","genresList","map","genre","idx","name","voteText","vote","link","href","target","rel","icon","Cast","lazy","Reviews","MovieDetailsView","useState","movie","setMovie","movieId","useParams","url","useRouteMatch","useEffect","fetchMovieDetails","then","nav","to","activeClassName","active","fallback","timeout","color","path","fetchTrandingMovie","a","page","axios","get","data","total_pages","results","console","log","fetchMovie","query","fetchMovieCredits","cast","fetchMovieReviews","defaults","baseURL","params","api_key","language","size","noImage"],"mappings":"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","file":"static/js/movie-details-view.f54b1cd1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"MovieDetailsView_nav__1542e\",\"link\":\"MovieDetailsView_link__Xv9N7\",\"active\":\"MovieDetailsView_active__3D5zp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"article\":\"MovieDetails_article__38i5Y\",\"titleBlock\":\"MovieDetails_titleBlock__10ZYK\",\"movieTitle\":\"MovieDetails_movieTitle__wrymE\",\"image\":\"MovieDetails_image__sGBCb\",\"description\":\"MovieDetails_description__2wXPH\",\"title\":\"MovieDetails_title__3ERyW\",\"vote\":\"MovieDetails_vote__2Dytl\",\"voteText\":\"MovieDetails_voteText__37tbZ\",\"genresList\":\"MovieDetails_genresList__1RHyy\",\"overview\":\"MovieDetails_overview__xkTVp\",\"link\":\"MovieDetails_link__2vYZL\",\"icon\":\"MovieDetails_icon__2ca8G\"};","import { HiLink } from 'react-icons/hi';\nimport s from './MovieDetails.module.css';\nimport { makeImagePath } from '../../services/makeImagePath';\n\nexport default function MovieDetails({\n  title,\n  vote_average,\n  homepage,\n  genres,\n  poster_path,\n  backdrop_path,\n  overview,\n}) {\n  const posterUrl = makeImagePath(poster_path);\n  return (\n    <article className={s.article}>\n      <div className={s.titleBlock}>\n        <h2 className={s.movieTitle}>{title}</h2>\n\n        <img className={s.image} src={posterUrl} alt={title} width=\"300\" />\n      </div>\n      <div className={s.description}>\n        <h3 className={s.title}>Genres: </h3>\n        <ul className={s.genresList}>\n          {genres &&\n            genres.map((genre, idx) => <li key={idx}>{genre.name}</li>)}\n        </ul>\n        <h3 className={s.title}>Description:</h3>\n        <p className={s.overview}>{overview}</p>\n\n        <p className={s.voteText}>\n          tmbd: <span className={s.vote}>{vote_average}</span>\n        </p>\n        <a className={s.link} href={homepage} target=\"_blank\" rel=\"noreferrer\">\n          <HiLink className={s.icon} />\n        </a>\n      </div>\n    </article>\n  );\n}\n","import { useState, useEffect, Suspense } from 'react';\nimport { lazy } from 'react';\nimport {\n  useParams,\n  NavLink,\n  Switch,\n  Route,\n  useRouteMatch,\n} from 'react-router-dom';\nimport Loader from 'react-loader-spinner';\nimport s from './MovieDetailsView.module.css';\nimport { fetchMovieDetails } from '../../services/tmdb-api';\nimport MovieDetails from '../MovieDetails/MovieDetails';\n\nconst Cast = lazy(() => import('../Cast/Cast' /* webpackChunkName: \"cast\" */));\nconst Reviews = lazy(() =>\n  import('../Reviews/Reviews' /* webpackChunkName: \"reviews\" */),\n);\n\nexport default function MovieDetailsView() {\n  const [movie, setMovie] = useState([]);\n\n  const { movieId } = useParams();\n  const { url } = useRouteMatch();\n\n  useEffect(() => {\n    fetchMovieDetails(movieId).then(setMovie);\n  }, [movieId]);\n\n  return (\n    <>\n      <MovieDetails {...movie} />\n\n      <nav className={s.nav}>\n        <NavLink\n          to={`${url}/cast`}\n          className={s.link}\n          activeClassName={s.active}\n        >\n          Cast\n        </NavLink>\n        <NavLink\n          to={`${url}/reviews`}\n          className={s.link}\n          activeClassName={s.active}\n        >\n          Reviews\n        </NavLink>\n      </nav>\n\n      <Suspense fallback={<Loader timeout={10000} color=\"#ff0000\" />}>\n        <Switch>\n          <Route path={`${url}/cast`}>\n            <Cast movieId={movieId} />\n          </Route>\n\n          <Route path={`${url}/reviews`}>\n            <Reviews movieId={movieId} />\n          </Route>\n        </Switch>\n      </Suspense>\n    </>\n  );\n}\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '8978731d3453660c119868bf0fe3e32f';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = { api_key: API_KEY, language: 'en-EN' };\n\nexport async function fetchTrandingMovie(page = 1) {\n  try {\n    const {\n      data: { total_pages, results },\n    } = await axios.get(`/trending/movie/day?page=${page}`);\n    return [results, total_pages];\n  } catch (error) {\n    console.log(error);\n    return [];\n  }\n}\n\nexport async function fetchMovie(query, page = 1) {\n  try {\n    const {\n      data: { total_pages, results },\n    } = await axios.get(`/search/movie?query=${query}&page=${page}`);\n    return [results, total_pages];\n  } catch (error) {\n    console.log(error);\n    return [];\n  }\n}\n\nexport async function fetchMovieDetails(movieId) {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}`);\n    return data;\n  } catch (error) {\n    console.log(error);\n    return [];\n  }\n}\n\nexport async function fetchMovieCredits(movieId) {\n  try {\n    const {\n      data: { cast },\n    } = await axios.get(`/movie/${movieId}/credits`);\n    return cast;\n  } catch (error) {\n    console.log(error);\n    return [];\n  }\n}\n\nexport async function fetchMovieReviews(movieId) {\n  try {\n    const {\n      data: { results },\n    } = await axios.get(`/movie/${movieId}/reviews`);\n\n    return results;\n  } catch (error) {\n    console.log(error);\n    return [];\n  }\n}\n","export default __webpack_public_path__ + \"static/media/no-image.05423dcb.jpg\";","import noImage from '../images/no-image.jpg';\n\nexport function makeImagePath(path, size = 'w342') {\n  if (!path) return noImage;\n  return `https://image.tmdb.org/t/p/${size}/${path}`;\n}\n"],"sourceRoot":""}